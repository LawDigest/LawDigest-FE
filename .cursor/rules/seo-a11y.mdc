---
description: SEO와 접근성(A11y) 룰
globs: app/**/{layout,page,components}/**/*
alwaysApply: false
---

## SEO 가이드

- Next Metadata API 사용
  - 정적 페이지: `export const metadata: Metadata = { ... }`
  - 동적 페이지: `export async function generateMetadata(...)`
- 필수 메타
  - title: 도메인/페이지 의미가 드러나도록. 사이트 접미사는 `app/common/config/site.ts` 기준으로 조합
  - description: 120–160자 내외 핵심 설명
  - openGraph: `title`, `description`, `url`, `siteName`, `images`, `locale`, `type`
  - twitter: `card`, `title`, `description`, `images`
  - alternates.canonical: 정규 URL 지정
  - robots: 인덱싱 정책 반영
- 예시 (유틸 사용 권장)

```ts
// app/{domain}/page.tsx
import { getMetadata } from '@/app/common/utils/getMetadata';

export const metadata = getMetadata({
  title: '법안 메인',
  description: '최신 법안 소식을 한 눈에 확인하세요.',
});
```

- 이미지/OG
  - `public/images/opengraph-image.png` 등 정적 자산 사용
  - 각 상세 페이지는 고유 OG 이미지가 있으면 교체
- 링크
  - 내부 이동은 `next/link` 사용, `prefetch` 기본값 유지. 중요 경로는 명시적 `prefetch` 고려
- 퍼포먼스
  - `next/image` 사용, width/height 지정, `priority`는 above-the-fold 한정
  - 폰트는 `app/common/config/fonts.ts`로 로드, 중요 폰트는 preload

## 접근성(A11y) 체크리스트

- 시맨틱 구조
  - 페이지 당 `h1` 1개, 논리적 헤딩 계층 유지
  - 내비게이션은 `nav`, 주요 영역은 `main`, 보조는 `aside`, 푸터는 `footer`
- 대체 텍스트/이름
  - 의미 있는 이미지는 `alt`, 장식 아이콘은 `aria-hidden="true"` 또는 `role="img"` 제거
  - 아이콘 버튼은 시각 텍스트가 없으면 `aria-label` 제공
- 키보드 접근성
  - 모든 인터랙션은 키보드로 가능해야 함. `button`/`a` 등 네이티브 요소 우선
  - 모달/드롭다운은 포커스 트랩/리턴 적용. Radix/shadcn 컴포넌트 우선 사용
- 폼
  - `label`과 `input`을 `htmlFor`/`id`로 연결, 오류 메시지는 `aria-describedby`로 연결
  - 유효성은 시각 피드백 + 스크린리더 피드백(`role="alert"`/`aria-live="polite"`)
- 색상 대비/모션
  - 텍스트 대비 최소 4.5:1, 큰 텍스트 3:1
  - 모션 민감도 고려(`prefers-reduced-motion`)
- 라이브 영역
  - 토스트/스낵바는 `aria-live="polite"` 또는 `assertive` 사용

## 금지/권장

## Zod와의 결합 (선택)

- `getMetadata` 입력을 Zod 스키마로 검증하여 누락/초과 필드를 방지합니다
- 라우트 세그먼트 파라미터도 Zod로 파싱하여 SEO 링크(정규 URL) 생성에 안전하게 사용합니다

- 금지: `div`와 `span`으로 상호작용 구현, 클릭 가능한 `div`/`span`
- 권장: 의미 요소/ARIA 최소 사용(필요 시에만), 포커스 스타일 제거 금지, `tabIndex` 남용 금지
